<script>
	const design = fanstatic.design;
	const controller = {
		panelElement: null,
		itemControllers: [],
	};

	return async function (roof, data = {}, url) {
		const panelScope = fanstatic.resolvePanelScope(url);
		const scope = data.scope;
		const panel = data.panel || 'block.base-block';

		roof.innerHTML = fanstatic.renderJhtm(design.grid(
			{data: {thm: {scope:scope, panel:panelScope, role:'items'}}},
			{},
			data.items || []
		));

		controller.panelElement = roof.children[0];

		this.controller = controller;
	};
</script>
