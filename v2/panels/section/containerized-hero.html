<script>
	const design = fanstatic.design;
	const controller = {};

	return {
		onload: async function (roof, data = {}, url) {
			const scope = data.scope || fanstatic.resolvePanelScope(url);
			const sectionController = await fanstatic.insertPanel(roof, 'section.containerized-panel', { 
				id: data.id || null,
				scope: scope,
				panel: 'block.base-block',
				item: data.block,
			});
			const panelElement = sectionController.panelElement;
			
			panelElement.dataset.thmPanel = scope;
			controller.panelElement = panelElement;
			controller.blockElement = sectionController.itemElement;
			controller.sectionController = sectionController;
		},
		controller: controller
	};
</script>
