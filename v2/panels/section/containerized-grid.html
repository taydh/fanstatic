<script>
	const design = fanstatic.design;

	return async function (roof, data, url) {
		const panelScope = data.panelScope || fanstatic.resolvePanelScope(url);
		const scope = data.scope || panelScope;
		const itemControllers = [];
		
		const sectionController = await fanstatic.insertPanel(roof, 'section.containerized-subcontent', 
			Object.assign({}, data, {
				panelScope: panelScope,
				scope: scope,
				subContent: new fanstatic.panel('cluster.grid', {
					scope: scope,
					items: data.subContents
				})
			})
		);

		sectionController.subPanelController.panelElement.dataset.pn = 'items';

		this.controller = sectionController;
	}
</script>
