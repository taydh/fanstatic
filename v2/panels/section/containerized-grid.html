<script>
	const design = fanstatic.design;

	return async function (roof, data, url) {
		const panelScope = data.panelScope || fanstatic.resolvePanelScope(url);
		const scope = data.scope || panelScope;
		const cellPanel = data.stackPanel || 'block.actionable-block';
		const itemControllers = [];
		
		const sectionController = await fanstatic.insertPanel(roof, 'section.containerized-subpanel',
			Object.assign({}, data, {
				panelScope: panelScope,
				scope: scope,
				subPanel: {
					panel: 'block.grid-blocks',
					data: {
						scope: scope,
						items: data.gridPanels
					}
				}
			})
		);

		sectionController.subPanelController.panelElement.dataset.pn = 'items';

		this.controller = sectionController;
	}
</script>
