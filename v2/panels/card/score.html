<script>
	const design = fanstatic.design;

	return async function(roof, data, url) {
		const panelScope = data.panelScope || fanstatic.resolvePanelScope(url);

		const basicUnitController = await fanstatic.insertPanel(roof, 'block.unit', {
			id: data.id,
			panelScope: panelScope,
			scope: data.scope,
			innerScope: data.innerScope,
			cap: design.element('img', {src: data.icon}),
			head: data.score,
			body: data.subject,
			foot: data.summary,
		})
		
		this.controller = {
			panelElement: basicUnitController.panelElement,
		}
	}
</script>