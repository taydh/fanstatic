<script>
	const design = fanstatic.design;
	const controller = {
		panelElement: null,
	};

	return async function(roof, data, url) {
		const panelScope = fanstatic.resolvePanelScope(url);
		const scope = data.scope;

		const unitController = await fanstatic.insertPanel(roof, 'block.base-unit', {
			data: {
				scope: scope,
				titles: data.titles,
				contents: data.contents,
			}
		})

		unitController.panelElement.dataset.dsPanel = panelScope;
		controller.panelElement = roof.children[0];
		controller.itemController = unitController;

		this.controller = controller;
	}
</script>