<nav></nav>

<script>
	const design = fanstatic.design;
	const controller = {};

	return {
		controller: controller,
		onload: function(roof, data, url) {
			const panelScope = fanstatic.resolvePanelScope(url);
			const scope = data.scope || panelScope;
			const panelElement = roof.children[0];

			panelElement.setAttribute('data-pn-panel', panelScope);
			panelElement.setAttribute('data-pn-scope', scope);
			panelElement.innerHTML = fanstatic.renderJhtm(design.wrap([
				design.list({ 'data-pn-scope': scope, 'data-pn-role': 'menu_list' }, { 'data-pn-role': 'menu_item' },
				{
					listTag: 'div',
					items: data.menus.map(menu => {
						const href = (menu.link ? fanstatic.sanitizeAttribute(menu.link) : null) || '#';
						const tagFill = `a href="${href}" data-pn-role="menu_link"`;

						return { [tagFill] : menu.label }
					}),
				})
			]));

			controller.panelElement = panelElement;
		},	
	}
</script> 