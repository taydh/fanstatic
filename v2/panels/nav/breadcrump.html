<script>
	const design = fanstatic.design;

	return async function (roof, data = {}, url) {
		const panelScope = fanstatic.resolvePanelScope(url);
		const scope = data.scope || panelScope;

		roof.innerHTML = fanstatic.renderJhtm([
			design.div({data: { pn:  { scope: scope, panel: panelScope }}}, ["\n"].concat(data.links.map((link, i) => {
					return [
						design.element('span', { 'data-pn-role': 'separator' }, i > 0 ? data.separator : '')
						, ' '
						, design.element('a', { href: link.href}, link.html || true)
						, "\n"
					];
				}).flat()),
			)
		]);

		const panelElement = roof.children[0];

		this.controller = {
			panelElement: panelElement,
		};
	};
</script>
